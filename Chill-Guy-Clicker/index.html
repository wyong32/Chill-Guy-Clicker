<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/images/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chill Guy Clicker - Relaxing Idle Game - Play Online Free</title>
    <meta
      name="description"
      content="Play Chill Guy Clicker, a relaxing and fun clicking game where you earn points by clicking characters. Unlock new abilities and characters as you progress!"
    />
    <meta
      name="keywords"
      content="chill guy clicker, idle game, clicker game, relaxing game, online game, free game"
    />

    <!-- 预加载关键资源 -->
    <link rel="preload" href="/images/logo.png" as="image" type="image/png" fetchpriority="high" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- DNS 预解析 -->
    <link rel="dns-prefetch" href="//fonts.gstatic.com" />
    <link rel="dns-prefetch" href="//fonts.googleapis.com" />
    <link rel="dns-prefetch" href="//www.googletagmanager.com" />
    <link rel="dns-prefetch" href="//www.google-analytics.com" />

    <!-- 移除开发环境中的预加载，避免警告 -->
    <!-- 预加载将在生产环境中通过 Vite 自动处理 -->

    <!-- 权限策略 -->
    <meta
      http-equiv="Permissions-Policy"
      content="autoplay=*, fullscreen=*, cross-origin-isolated=*"
    />

    <!-- 默认社交媒体标签 - 会被路由守卫动态更新 -->
    <!-- Open Graph 标签 (Facebook, 微信等) -->
    <meta property="og:title" content="Chill Guy Games - Play Free Online Games" />
    <meta
      property="og:description"
      content="chill guy clicker, idle game, clicker game, relaxing game, online game, free game"
    />
    <meta property="og:image" content="https://chillguymemeclicker.com/images/logo.png" />
    <meta property="og:url" content="https://chillguymemeclicker.com" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Chill Guy Games" />

    <!-- Twitter Card 标签 -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Chill Guy Games - Play Free Online Games" />
    <meta
      name="twitter:description"
      content="chill guy clicker, idle game, clicker game, relaxing game, online game, free game"
    />
    <meta name="twitter:image" content="https://chillguymemeclicker.com/images/logo.png" />

    <!-- 规范URL -->
    <link rel="canonical" href="https://chillguymemeclicker.com" />

    <!-- 预加载关键资源 - 防止布局偏移和优化 LCP -->
    <link rel="preload" href="/images/logo.png" as="image" type="image/png" fetchpriority="high" />
    <link
      rel="preload"
      href="/images/games/game-01.webp"
      as="image"
      type="image/webp"
      fetchpriority="high"
    />

    <!-- DNS 预解析 -->
    <link rel="dns-prefetch" href="//www.googletagmanager.com" />

    <!-- CLS 优化 CSS -->
    <link rel="stylesheet" href="/css/cls-optimize.css" />

    <!-- 广告脚本 -->
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4638984121333143"
      crossorigin="anonymous"
    ></script>

    <!-- 内联关键CSS防止CLS - 精确复制 Dreamy-Room-Level -->
    <style>
      /* 防止CLS的最小样式 - 精确复制 Dreamy-Room-Level */
      body {
        margin: 0;
        padding: 0;
        /* 防止字体加载导致的CLS */
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
        font-display: swap;
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #fff;
        line-height: 1.6;
        min-height: 100vh;
      }

      /* 预设关键图片尺寸，防止图片加载导致的CLS */
      img {
        background-color: #f0f0f0;
        transition: opacity 0.3s ease;
        /* transform: translateZ(0); */
        backface-visibility: hidden;
      }

      .logo-image {
        width: 30px;
        height: 30px;
      }

      .game-preview-image {
        width: 150px;
        height: 150px;
        object-fit: cover;
      }

      .container {
        width: 100%;
        max-width: 1400px;
        margin-left: auto;
        margin-right: auto;
        padding-left: 1rem;
        padding-right: 1rem;
        /* 防止布局偏移 */
        contain: layout style;
        box-sizing: border-box;
      }

      /* 彻底固定所有关键容器尺寸 - 基于 Dreamy-Room-Level */
      .app {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      .main-content {
        flex: 1;
        min-height: 800px;
        /* 参考 Dreamy-Room-Level，提高到800px */
        contain: layout style;
      }

      /* 游戏容器关键样式 - 基于 Dreamy-Room-Level */
      .game-container {
        background-color: rgba(255, 255, 255, 0.95);
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.3);
        color: #333;
        contain: layout style paint;
        min-height: 600px;
        /* 增加最小高度 */
        width: 100%;
        box-sizing: border-box;
      }

      /* 预设关键图片尺寸 - 基于 Dreamy-Room-Level */
      .game-preview-image {
        width: 150px;
        height: 150px;
        object-fit: cover;
        background-color: #f0f0f0;
        transform: translateZ(0);
        backface-visibility: hidden;
      }

      /* Header 固定高度，防止布局偏移 */
      .header-placeholder {
        min-height: 80px;
        contain: layout style paint;
        width: 100%;
        box-sizing: border-box;
      }

      /* 评论区域稳定性 - 基于 Dreamy-Room-Level */
      .comment-section {
        min-height: 400px;
        contain: layout style paint;
      }

      /* 加载指示器 */
      .loading-spinner {
        width: 40px;
        height: 40px;
        border: 4px solid rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        border-top-color: #41b883;
        animation: spin 1s ease-in-out infinite;
        margin: 2rem auto;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* 防止布局偏移的占位样式 - 基于 Cookingdom */
      #app {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        width: 100%;
        overflow-x: hidden;
      }

      /* 主内容区域 */
      .main-content {
        flex: 1;
        width: 100%;
        min-height: calc(100vh - 380px);
      }

      /* 游戏 iframe 容器 - 防止布局偏移 */
      .game-iframe-container {
        width: 100%;
        aspect-ratio: 16 / 9;
        background-color: #f0f0f0;
        border-radius: 10px;
        overflow: hidden;
        position: relative;
        contain: layout paint;
        transform: translateZ(0);
      }

      /* 全屏模式样式已移至 GameContainer.vue 组件中统一管理 */
      /* 避免样式冲突，由组件控制全屏行为 */

      .game-iframe-container iframe {
        width: 100%;
        height: 100%;
        border: none;
        display: block;
      }
    </style>

    <!-- JSON-LD 结构化数据 -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "Chill Guy Clicker",
        "alternateName": "Chill Guy Games",
        "url": "https://chillguymemeclicker.com",
        "description": "Chill Guy Clicker offers the ultimate collection of relaxing idle games, chill guy meme games, and fun clicking experiences. Play free online games featuring the viral chill guy meme!",
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://chillguymemeclicker.com/search?q={search_term_string}",
          "query-input": "required name=search_term_string"
        },
        "publisher": {
          "@type": "Organization",
          "name": "Chill Guy Games",
          "url": "https://chillguymemeclicker.com",
          "logo": {
            "@type": "ImageObject",
            "url": "https://chillguymemeclicker.com/images/logo.png"
          }
        },
        "mainEntity": {
          "@type": "Game",
          "name": "Chill Guy Clicker",
          "description": "A relaxing idle clicker game featuring the viral chill guy meme. Click to earn points, unlock upgrades, and enjoy the ultimate chill gaming experience.",
          "genre": ["Idle Game", "Clicker Game", "Casual Game"],
          "gamePlatform": "Web Browser",
          "operatingSystem": ["Windows", "macOS", "Linux", "iOS", "Android"],
          "applicationCategory": "Game",
          "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD",
            "availability": "https://schema.org/InStock"
          },
          "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "1250",
            "bestRating": "5",
            "worstRating": "1"
          },
          "featureList": [
            "Relaxing idle gameplay",
            "Chill guy meme characters",
            "Multiple upgrade paths",
            "Offline progress",
            "Mobile-friendly design",
            "Free to play"
          ],
          "screenshot": "https://chillguymemeclicker.com/images/games/game-01.webp",
          "video": {
            "@type": "VideoObject",
            "name": "Chill Guy Clicker Gameplay",
            "description": "Watch how to play Chill Guy Clicker",
            "thumbnailUrl": "https://chillguymemeclicker.com/images/games/game-01.webp"
          }
        },
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Home",
              "item": "https://chillguymemeclicker.com"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "Games",
              "item": "https://chillguymemeclicker.com/games"
            }
          ]
        }
      }
    </script>
  </head>

  <body>
    <div id="app">
      <script
        async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4638984121333143"
        crossorigin="anonymous"
      ></script>
      <!-- PC端横幅广告1 -->
      <ins
        class="adsbygoogle"
        style="display: block"
        data-ad-client="ca-pub-4638984121333143"
        data-ad-slot="3707198686"
        data-ad-format="auto"
        data-full-width-responsive="true"
      ></ins>
      <script>
        ;(adsbygoogle = window.adsbygoogle || []).push({})
      </script>
      <!-- Initial loading indicator -->
      <div class="loading-spinner"></div>
    </div>

    <!-- CLS 优化脚本 - 内联版本避免 MIME 类型问题 -->
    <script>
      // 简化的 CLS 优化脚本 - 内联版本
      ;(function () {
        'use strict'

        // 立即应用关键优化
        applyImmediateOptimizations()

        // DOM 加载完成后的优化
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', initOptimizations)
        } else {
          initOptimizations()
        }

        function applyImmediateOptimizations() {
          // 1. 强制设置 viewport 稳定性
          const viewport = document.querySelector('meta[name="viewport"]')
          if (viewport) {
            viewport.setAttribute(
              'content',
              'width=device-width, initial-scale=1.0, viewport-fit=cover',
            )
          }

          // 2. 预设关键 CSS 变量
          document.documentElement.style.setProperty('--viewport-height', window.innerHeight + 'px')

          // 3. 立即应用关键样式
          const style = document.createElement('style')
          style.textContent = `
            .app {
              min-height: 100vh !important;
              display: flex !important;
              flex-direction: column !important;
            }
            img {
              background-color: #f0f0f0 !important;
              display: block !important;
            }
          `
          document.head.appendChild(style)
        }

        function initOptimizations() {
          // 预设图片尺寸
          const images = document.querySelectorAll('img:not([width]):not([height])')
          images.forEach((img) => {
            if (!img.width && !img.height) {
              const container = img.closest('.game-preview, .lazy-image-container')
              if (container) {
                const rect = container.getBoundingClientRect()
                if (rect.width > 0 && rect.height > 0) {
                  img.style.width = rect.width + 'px'
                  img.style.height = rect.height + 'px'
                  img.style.objectFit = 'cover'
                }
              }
            }
          })

          // 稳定化容器
          const containers = document.querySelectorAll(
            '.game-container, .header, .footer, .main-content',
          )
          containers.forEach((container) => {
            if (!container.style.minHeight) {
              const rect = container.getBoundingClientRect()
              if (rect.height > 0) {
                container.style.minHeight = rect.height + 'px'
                /* container.style.contain = 'layout style paint'; */
              }
            }
          })

          console.log('CLS optimizations applied')
        }
      })()
    </script>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
